# üìö –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è HiveMQ Cloud

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [HiveMQ Cloud](https://www.hivemq.com/cloud/)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Get Started for Free"**
3. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ email
4. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å email –∞–¥—Ä–µ—Å—É

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—Ç–µ—Ä–∞

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ [Console](https://console.hivemq.cloud/)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create new cluster"**
3. –í–∏–±–µ—Ä—ñ—Ç—å **FREE** –ø–ª–∞–Ω
4. –û–±–µ—Ä—ñ—Ç—å:
   - **Name**: `esp32-mqtt` (–∞–±–æ –±—É–¥—å-—è–∫–∞ –Ω–∞–∑–≤–∞)
   - **Region**: –ù–∞–π–±–ª–∏–∂—á–∏–π –¥–æ –≤–∞—Å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, EU-Central-1)
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create cluster"**
6. –ó–∞—á–µ–∫–∞–π—Ç–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏ –ø–æ–∫–∏ –∫–ª–∞—Å—Ç–µ—Ä —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è

## –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—Ä–µ–¥–µ–Ω—à–ª—ñ–≤ –¥–ª—è ESP32

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **"Access Management"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add credentials"**
4. –í–≤–µ–¥—ñ—Ç—å:
   - **Username**: `esp32-device` (–¥–ª—è ESP32)
   - **Password**: –°–∫–ª–∞–¥–Ω–∏–π –ø–∞—Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Secure123!`)
5. **Permissions**: –í–∏–±–µ—Ä—ñ—Ç—å:
   - ‚úÖ Publish
   - ‚úÖ Subscribe
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add"**

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—Ä–µ–¥–µ–Ω—à–ª—ñ–≤ –¥–ª—è React Dashboard

1. –î–æ–¥–∞–π—Ç–µ —â–µ –æ–¥–Ω—ñ –∫—Ä–µ–¥–µ–Ω—à–ª–∏
2. –í–≤–µ–¥—ñ—Ç—å:
   - **Username**: `mqtt-front` (–¥–ª—è –≤–µ–±-–¥–∞—à–±–æ—Ä–¥—É)
   - **Password**: –Ü–Ω—à–∏–π –ø–∞—Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Qwerty-1`)
3. **Permissions**: –í–∏–±–µ—Ä—ñ—Ç—å:
   - ‚úÖ Subscribe (—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è)
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add"**

## –ö—Ä–æ–∫ 4: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

1. –£ –∫–ª–∞—Å—Ç–µ—Ä—ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **"Overview"**
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **"Connection Settings"**
3. –°–∫–æ–ø—ñ—é–π—Ç–µ:
   - **Host**: –©–æ—Å—å —Ç–∏–ø—É `abc123.s1.eu.hivemq.cloud`
   - **Port (MQTT over TLS)**: `8883`
   - **Port (MQTT over WebSocket)**: `8884`

## –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ESP32

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `Arduino/secrets.h`:

```cpp
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HOST –∑ HiveMQ Console
#define MQTT_SERVER "abc123.s1.eu.hivemq.cloud"
#define MQTT_PORT 8883

// –ö—Ä–µ–¥–µ–Ω—à–ª–∏ –¥–ª—è ESP32
#define MQTT_USER "esp32-device"
#define MQTT_PASSWORD "Secure123!"

#define MQTT_CLIENT_ID "ESP32-DHT11"
#define MQTT_TOPIC "esp32/dht11"
```

## –ö—Ä–æ–∫ 6: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è React Dashboard

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:

```env
# WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (–ø–æ—Ä—Ç 8884!)
VITE_MQTT_BROKER=wss://abc123.s1.eu.hivemq.cloud:8884/mqtt

# –ö—Ä–µ–¥–µ–Ω—à–ª–∏ –¥–ª—è –¥–∞—à–±–æ—Ä–¥—É (—Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è)
VITE_MQTT_USERNAME=mqtt-front
VITE_MQTT_PASSWORD=Qwerty-1

VITE_MQTT_TOPIC=esp32/dht11
```

## –ö—Ä–æ–∫ 7: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ ESP32

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∫–æ–¥ –Ω–∞ ESP32
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Serial Monitor (115200 baud)
3. –í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏:
   ```
   WiFi OK
   –ß–∞—Å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ!
   ‚úÖ Connected to HiveMQ Cloud
   MQTT publish SUCCESS
   ```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Dashboard

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å React –¥–æ–¥–∞—Ç–æ–∫: `npm run dev`
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:5173`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (–º–∞—î –±—É—Ç–∏ –∑–µ–ª–µ–Ω–∏–π "–ü—ñ–¥–∫–ª—é—á–µ–Ω–æ")
4. –î–∞–Ω—ñ –ø–æ–≤–∏–Ω–Ω—ñ –∑'—è–≤–ª—è—Ç–∏—Å—è –∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ HiveMQ Console

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –∫–ª–∞—Å—Ç–µ—Ä ‚Üí **"Web Client"**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Connect"** (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –±—É–¥—å-—è–∫—ñ –∫—Ä–µ–¥–µ–Ω—à–ª–∏)
3. Subscribe –Ω–∞ —Ç–æ–ø—ñ–∫ `esp32/dht11`
4. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ JSON –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ ESP32:
   ```json
   {
     "temperature": 23.5,
     "humidity": 65.2,
     "timestamp": "2024-12-02 15:30:45"
   }
   ```

## ‚ö†Ô∏è –õ—ñ–º—ñ—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É

- **100 –∑'—î–¥–Ω–∞–Ω—å** –æ–¥–Ω–æ—á–∞—Å–Ω–æ
- **10 GB** —Ç—Ä–∞—Ñ—ñ–∫—É –Ω–∞ –º—ñ—Å—è—Ü—å
- **1 –∫–ª–∞—Å—Ç–µ—Ä**
- **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å**: 1 –¥–µ–Ω—å

–Ø–∫—â–æ –¥–æ—Å—è–≥–Ω–µ—Ç–µ –ª—ñ–º—ñ—Ç—ñ–≤, —Ä–æ–∑–≥–ª—è–Ω—å—Ç–µ –ø–ª–∞—Ç–Ω–∏–π –ø–ª–∞–Ω –∞–±–æ –≤–ª–∞—Å–Ω–∏–π MQTT –±—Ä–æ–∫–µ—Ä (Mosquitto).

## üîí –ë–µ–∑–ø–µ–∫–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

1. **–†—ñ–∑–Ω—ñ –∫—Ä–µ–¥–µ–Ω—à–ª–∏** –¥–ª—è ESP32 —Ç–∞ Dashboard
2. **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∞**: Dashboard —Ç—ñ–ª—å–∫–∏ Subscribe
3. **–°–∫–ª–∞–¥–Ω—ñ –ø–∞—Ä–æ–ª—ñ**: –ú—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤
4. **–ù–µ –ø—É–±–ª—ñ–∫—É–π—Ç–µ** –∫—Ä–µ–¥–µ–Ω—à–ª–∏ –≤ git
5. **–†–µ–≥—É–ª—è—Ä–Ω–æ –∑–º—ñ–Ω—é–π—Ç–µ** –ø–∞—Ä–æ–ª—ñ

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤:

1. HiveMQ Console ‚Üí Access Management
2. –ó–Ω–∞–π–¥—ñ—Ç—å –∫—Ä–µ–¥–µ–Ω—à–ª–∏ ‚Üí **"..."** ‚Üí **"Edit"**
3. –í–≤–µ–¥—ñ—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å
4. –û–Ω–æ–≤—ñ—Ç—å `secrets.h` —Ç–∞ `.env`
5. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ ESP32 —Ç–∞ Dashboard

## üÜò –ß–∞—Å—Ç—ñ –ø–æ–º–∏–ª–∫–∏

### "Connection refused: Not authorized"

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ username —Ç–∞ password
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫—Ä–µ–¥–µ–Ω—à–ª–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤ HiveMQ

### "Connection timeout"

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ host —Ç–∞ port
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç –ø—Ä–∞—Ü—é—î
- –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π —Ä–µ–≥—ñ–æ–Ω –∫–ª–∞—Å—Ç–µ—Ä–∞

### "SSL/TLS handshake failed"

- ESP32: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `secureClient.setInsecure()`
- React: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `wss://`

### "Publish failed"

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –∫—Ä–µ–¥–µ–Ω—à–ª—ñ–≤ (Publish)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–º—ñ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–º–∞–∫—Å 256KB)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑'—î–¥–Ω–∞–Ω–Ω—è MQTT

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- HiveMQ Documentation: https://docs.hivemq.com/
- HiveMQ Support: support@hivemq.com
- Community Forum: https://community.hivemq.com/

---

‚úÖ –ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ä–∞–∑–æ–º!
